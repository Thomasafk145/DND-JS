<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        background-repeat: no-repeat;
        background-size: cover;
        background-color: black;
        color: white;
      }
      #topicsDiv {
        background-color: black;
        color: white;
        display: flex;
        justify-content: space-around;
      }
      #data {
        color: white;
        background-color: black;
        display: flex;
        justify-content: space-around;
        justify-items: center;
      }
      #RtextDiv {
        color: white;
        background-color: black;
      }
      #RtextList {
        list-style: none;
        display: block;
        justify-content: space-between;
        font-size: 20px;
      }
      #CtextDiv {
        color: white;
        background-color: black;
        justify-items: right;
      }
      #CtextList {
        list-style: none;
        display: block;
        justify-content: space-between;
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <div id="topicsDiv">
      <h1 id="Rules">Rules</h1>
      <h1 id="Classes">Classes</h1>
    </div>
    <div id="data">
      <div id="RtextDiv">
        <ul id="RtextList"></ul>
      </div>
      <div id="CtextDiv">
        <ul id="CtextList"></ul>
      </div>
    </div>
    <script>
      const dataDiv = document.getElementById("RtextDiv");

      function Start() {
        fetch("https://www.dnd5eapi.co/api/2014/")
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            console.log(data.results);
          });

        loadRules();
        loadClasses();
      }
      const rules = document.getElementById("Rules");
      const Classes = document.getElementById("Classes");
      const myHeaders = new Headers();
      myHeaders.append("Accept", "application/json");

      const requestOptions = {
        method: "GET",
        headers: myHeaders,
        redirect: "follow",
      };
      function loadRules() {
        rules.addEventListener("click", () => {
          let Rtext = document.getElementById("RtextList");
          Rtext.innerHTML = "";
          fetch("https://www.dnd5eapi.co/api/2014/rules/", requestOptions)
            .then((response) => response.json())
            .then((result) => {
              for (i of result.results) {
                Rtypes = document.createElement("li");
                Rtypes.innerHTML = `${i.name}`;
                Rtext.append(Rtypes);
              }
            })
            .catch((error) => console.error(error));
        });
      }
      function loadClasses() {
        Classes.addEventListener("click", () => {
          let Ctext = document.getElementById("CtextList");
          Ctext.innerHTML = "";
          fetch("https://www.dnd5eapi.co/api/2014/classes/", requestOptions)
            .then((response) => response.json())
            .then((result) => {
              for (i of result.results) {
                classes = document.createElement("li");
                classes.innerHTML = `${i.name}`;
                Ctext.append(classes);
              }
            })
            .catch((error) => console.error(error));
        });
      }
      Start();
      /*
            OVERVIEW: Using data found here: â https://www.dnd5eapi.co/api/2014/
            Create a website that provides info on dnd.
            YOU DO NOT NEED TO COVER ALL ENDPOINTS, but before you start coding anything, create a document outlining what you are going to do (requirements doc), and create very basic wireframes (at least desktop mode) for the pages you are going to create.
            At very least, a user should be able to drill in at least 2 levels in at least 3 different areas *eg equipment -> abacus OR magic-items -> adamentine-armor"
            At least 2 of the pages drilled into should include images loaded from the json response of the endpoint (eg. https://www.dnd5eapi.co/api/images/magic-items/adamantine-armor.png)
          */
    </script>
  </body>
</html>
